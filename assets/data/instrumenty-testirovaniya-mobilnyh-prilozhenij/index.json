{"hash":"619e454bb18746da3d929244990e64d5b9ca825d","data":{"post":{"title":"Инструменты тестирования мобильных приложений","content":"\n## Симулятор vs Эмулятор\n\n### Симулятор \nОбычно используется для iOS.\n\n- Железо не эмулируется, только софтверная часть\n- Работает быстрее реальных устройстви мы не можем гарантировать что на реальном устройстве будет работать также\n- Невозможно установить телефонные приложений и работать с Siri\n- Невозможно проверить \"железные\" фичи: Bluetooth, NFC, звонки\n\nБаги возникающие на симуляторе в любом случае нужно править так как рано или поздно они могут появиться и на реальном устройстве:\n- Краш на симуляторе/девайсе\n- Разъезжается верстка\n\n### Эмулятор\nИспользуется для Android.\n\n- Имеется и Software и Hardware, можно задавать параметры памяти и т.д.\n- Работает медленно\n- Нет покупок внутри приложений\n- Google сервисы\n\nБаги:\n- Device-specific\n- Ошибки в транзакции\n- Библиотеки не под x86\n\nДостоинства:\n- Можно задавать различные разрешения\n- Можно работать с памятью\n- Тестировать GPS\n- Перехват и шейпинг(проверка траффика)\n\n## Реальные устройства\n\nОсновная проблема что не всегда есть возможность создать собственную ферму устройств\n\n- медленный Debug\n- iOS: разметка\n- Работа с памятью, сложно сэмулировать нужно забивать память вручную\n- Android: перехват трафика\n- Многообразие устройств\n\n## Среда разработки\n\nAndroid SDK, XCode\n\nADB - Android Debug Bridge - устанавливается вместе с Android SDK, и позволяет управлять устройством на базе Android. \n\nADB позволяет:\n- аосмотреть какие устройства подключены и могут работать с ADB\n- просматривать логи\n- копировать файлы с/на аппарат\n- устанавливать/удалять приложения\n- выполнять различные скрипты управления\n\n## Логи\n\nVerbose - вся информация с приложения\nDebug - логи для дебаг режима\nInfo - информация о состоянии\nWarn - предупреждение о нештатных ситуациях\nError - ошибка в приложении\n\nЕсли баг возникает у пользователя на проде, то проверяются логи в Fabric или Firebase Crashlitics.\n\nВ Firebase Crashlitics можно смотреть статистику работы без сбоев - какой процент пользователей работает без сбоев, список ошибок которые произошли и т.д.\n\nCrashlytics отображает:\n- Период возникновени ошибки\n- Тип ошибки\n    - Crash\n    - Warning\n- Версия приложения\n- Устройство\n- Операционная система\n- Идентификатор пользователя\n\n\n## Developer Console. Ошибки ANR и сбои\n\n1. Период возникновения ошибки\n2. Версия Android\n3. Версия приложения\n\nМинусы:\n1. Нет поиска по устройству\n2. Убрали поиск по отчетам пользователей\n\n## Перехват трафика\n\n- Charles\n- Fidler\n\nПроверяются запросы и ответы на клиенте и сервере.\n\nЕсли приходит ответ в зашифрованном виде то можно селать следущее чтобы его расшифровать\n\n1. Настроить прокси на устройстве или эмуляторе\n2. Установить SSL сертификат для HTTPS на устройстве с которого считываются запросы\n3. Выполнить действия с устройства\n4. Изучать необходимую информацию\n\n## Тестирование API\n\n- Postman\n    - Проверка сервера без клиента\n    - Проверка получаемых данных от сервера\n\n## Аналитика\n\n- Firebase - Firebase Debug View\n\nAndroid  \nadb shell setprop debug.firebase.analytics.app <package_name>\n\niOS  \nв командной строке Xcode:\n-FIRDebugEnabled\n\n- Google Analytics\n\nadb shell setprop log.tag.GAv4 DEBUG\n\nadb logcat -v time -s GAv4\n\nОтправляемые события будут отображаться в консоли но в самом Google Analytics нет реал тайм борда\nи в лучшем случае через сутки можно будет проверить что события дошли.\n\n- Яндекс AppMetrica\n\nВ самом кабинете можно указать устройство версию и не нужно никаких команд запускать.\n\n## Push уведомления\n\n- Firebase - Firebase Debug View\n\n- Яндекс AppMetrica\n\nМожно настраивать уведомления.\nНо иногда можно случайно отправить push на продакшен.\n\nНужно попросить разработчиков чтобы написали метод testPush.json, который будет отправлять push только на тестовое устройство. \n\n## Мнемоники\n\nПомогают выполнять важные проверки. \n\n### I SLICED UP FUN\n\n![I SLICED UP FUN](https://hsto.org/getpro/habr/upload_files/8f6/5c8/0c9/8f65c80c9c2cf5cf89c417c2240364be.png)\n\n## Автоматизация\n\n### Monkey UI/Application Exerciser Monkey\n\n```\nadb shell monkey\n-p your.package.name -v 500\n```\n\nhttps://developer.android.com/studio/test/monkey\n\nМожно указать ограничения по скорости, оганичить действия только внутри вашего приложения, можно указать id  и если приложение упадет можно по этом id воспроизвести действия, а также другие парамтры.\n\n\nИсточник:\n\n1. ❗ [«Инструменты тестирования мобильных приложений», Ксения Апачиди](https://www.youtube.com/watch?v=DH2XI5q1eUE)\n2. ❗ [Тестирование мобильных приложений: tips & tricks](https://habr.com/ru/company/badoo/blog/269189/)","description":"Инструменты тестирования мобильных приложений","image":"null","category":{"id":"mobile","title":"mobile","path":"/category/mobile/"},"date":"06/09/2022","path":"/instrumenty-testirovaniya-mobilnyh-prilozhenij/","links":[{"title":"","items":[{"title":"Алгоритмы (курс Яндекс)","link":"/algoritmy-kurs-yandeks/"}]}],"headings":[{"value":"Симулятор vs Эмулятор","anchor":"#симулятор-vs-эмулятор"},{"value":"Реальные устройства","anchor":"#реальные-устройства"},{"value":"Среда разработки","anchor":"#среда-разработки"},{"value":"Логи","anchor":"#логи"},{"value":"Developer Console. Ошибки ANR и сбои","anchor":"#developer-console-ошибки-anr-и-сбои"},{"value":"Перехват трафика","anchor":"#перехват-трафика"},{"value":"Тестирование API","anchor":"#тестирование-api"},{"value":"Аналитика","anchor":"#аналитика"},{"value":"Push уведомления","anchor":"#push-уведомления"},{"value":"Мнемоники","anchor":"#мнемоники"},{"value":"Автоматизация","anchor":"#автоматизация"}],"subtitles":[{"depth":2,"value":"Симулятор vs Эмулятор","anchor":"#симулятор-vs-эмулятор"},{"depth":3,"value":"Симулятор","anchor":"#симулятор"},{"depth":3,"value":"Эмулятор","anchor":"#эмулятор"},{"depth":2,"value":"Реальные устройства","anchor":"#реальные-устройства"},{"depth":2,"value":"Среда разработки","anchor":"#среда-разработки"},{"depth":2,"value":"Логи","anchor":"#логи"},{"depth":2,"value":"Developer Console. Ошибки ANR и сбои","anchor":"#developer-console-ошибки-anr-и-сбои"},{"depth":2,"value":"Перехват трафика","anchor":"#перехват-трафика"},{"depth":2,"value":"Тестирование API","anchor":"#тестирование-api"},{"depth":2,"value":"Аналитика","anchor":"#аналитика"},{"depth":2,"value":"Push уведомления","anchor":"#push-уведомления"},{"depth":2,"value":"Мнемоники","anchor":"#мнемоники"},{"depth":3,"value":"I SLICED UP FUN","anchor":"#i-sliced-up-fun"},{"depth":2,"value":"Автоматизация","anchor":"#автоматизация"},{"depth":3,"value":"Monkey UI/Application Exerciser Monkey","anchor":"#monkey-uiapplication-exerciser-monkey"}],"tags":[{"id":"qa","title":"qa","path":"/tag/qa/"}]},"comments":{"edges":[]}},"context":{}}